# 作业

## 作业1

> 思考和设计自定义 MQ 第二个版本或第三个版本，写代码实现其中至少一个功能点，把设计思路和实现代码，提交到 GitHub。

解答：

实现自定义 MQ 的第二个版本：

* 自定义内存Message数组模拟Queue。 
* 使用指针记录当前消息写入位置。 
* 对于每个命名消费者，用指针记录消费位置。

实现思路：

采用数组实现 KmqQueue，其中 offset 字段用来记录消息写入位置；

Kmq 中维护一个 Map: consumedOffsetMap 来记录 Consumer 的消费位置，Consumer 在 poll 消息的时候，会自动修改当前的消费位置。

具体的实现见项目。

